<!DOCTYPE HTML>
<html>
<head>
	 <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	 <!-- <meta name="apple-mobile-web-app-capable" content="yes"/> -->
	 <!-- <meta name="mobile-web-app-capable" content="yes"> -->
<title>Game Safe Demo</title>
<style>	
	body{
		margin:0 auto;
		overflow:hidden;
		-webkit-user-select: none;
		-moz-user-select: none;
		-ms-user-select: none;
		user-select: none;
	}

<!-- @media screen and (orientation:portrait) { -->
	<!-- #gameContainer{ -->
	
		<!-- transform:rotate(90deg); -->
		<!-- -ms-transform:rotate(90deg); 	/* IE 9 */ -->
		<!-- -moz-transform:rotate(90deg); 	/* Firefox */ -->
		<!-- -webkit-transform:rotate(90deg); /* Safari 和 Chrome */ -->
		<!-- -o-transform:rotate(90deg);  -->
		
		<!-- } -->
	<!-- } -->

<!-- @media screen and (orientation:landscape) { -->
	<!-- #gameContainer{ -->
	
		<!-- transform:rotate(0deg); -->
		<!-- -ms-transform:rotate(0deg); 	/* IE 9 */ -->
		<!-- -moz-transform:rotate(0deg); 	/* Firefox */ -->
		<!-- -webkit-transform:rotate(0deg); /* Safari 和 Chrome */ -->
		<!-- -o-transform:rotate(0deg);  -->		
		<!-- } -->
	<!-- } -->
	
	#gameContainer,#monster,#m1,#m2,#m3,#m4,#m5,#m6{	
		position:absolute;	
		height:100%;
		width:100%;
		display:block;
		vertical-align:bottom;
		background-Repeat:no-repeat;
	}
	#gameContainer
	{
		background-Size : 100% 100%; 
		background-image:url(bg.jpg);
	}
	#m1{
		background-Size: 43% 100%;
		margin: auto 74%;
		background-image: url(m1.png);
		z-index:1;
	}
	#m2{
		background-Size: 43% 100%;
		margin: auto -6%;
		background-image:url(m2.png);
	}
	#m3{
		background-Size: 23% 40%;
		margin-top: 16%;
		margin-left: -2%;
		background-image: url(m3.png);
		z-index:3;
	}
	#m4{
		background-Size: 23% 45%;
		margin-top: 28%;
		margin-left: 76%;
		background-image:url(m4.png);
		z-index:4;
	}
	#m5{
		background-Size: 45% 58%;
		margin-top: 5%;
		margin-left: 59.5%;
		background-image: url(m5.png);
	}
	#m6{
		background-Size: 45% 58%;
		margin-top: 24%;
		margin-left: -8%;
		background-image: url(m6.png);
		z-index:6;
	}
	
	
</style>
</head>
<body ontouchmove="blockMove()" onContextMenu="return false;">
  <div id="gameContainer" class="gameContainer" style="" src="" alt="HTML5 Game Example" width="2560" height="1600" onContextMenu="return false;"/>
  <div id="monster">  
	<div id="m1"></div>
	<div id="m2"></div>
	<div id="m3"></div>
	<div id="m4"></div>
	<div id="m5"></div>
	<div id="m6"></div>
  </div>
  <script>

 var g = document.getElementById("gameContainer");
 function blockMove() {
      event.preventDefault() ;
}

  (function () {
  
	if (window.matchMedia("(orientation: portrait)").matches) {
		
		g.style.webkitTransform = 'rotate(90deg)'; 
		g.style.mozTransform    = 'rotate(90deg)'; 
		g.style.msTransform     = 'rotate(90deg)'; 
		g.style.oTransform      = 'rotate(90deg)'; 
		g.style.transform       = 'rotate(90deg)'; 
	
		 window.addEventListener('orientationchange', function() { location.reload(); }, false);
		
		var game = {
		element: document.getElementById("gameContainer"),
		width: 1280,
		height: 720,
		safeWidth: 720,
		safeHeight: 1280
		}
	}

	if (window.matchMedia("(orientation: landscape)").matches) {
	
		g.style.webkitTransform = 'rotate(0deg)'; 
		g.style.mozTransform    = 'rotate(0deg)'; 
		g.style.msTransform     = 'rotate(0deg)'; 
		g.style.oTransform      = 'rotate(0deg)'; 
		g.style.transform       = 'rotate(0deg)'; 
	
		 window.addEventListener('orientationchange', function() { location.reload(); }, false);
			
		var game = {
		element: document.getElementById("gameContainer"),
		width: 1280,
		height: 720,
		safeWidth: 1280,
		safeHeight: 720
		}
	}
	
	resizeGame = function () {
	
		var viewport, newGameWidth, newGameHeight, newGameX, newGameY;
						
		// Get the dimensions of the viewport
		viewport = {
			width: window.innerWidth,
			height: window.innerHeight
		};
		
		// Determine game size
		if (game.height / game.width > viewport.height / viewport.width) {
		
		<!-- console.log(game.height,game.width,viewport.height,viewport.width); -->
		<!-- console.log(game.height / game.width , viewport.height / viewport.width); -->
		
			if (game.safeHeight / game.width > viewport.height / viewport.width) {
			  // A
			  newGameHeight = viewport.height * game.height / game.safeHeight;
			  newGameWidth = newGameHeight * game.width / game.height;
			} else {
				
			  // B
			  newGameWidth = viewport.width;
			  newGameHeight = newGameWidth * game.height / game.width;
			}
		} else { 
			if (game.height / game.safeWidth > viewport.height / viewport.width) {
				// C
				newGameHeight = viewport.height;
				newGameWidth = newGameHeight * game.width / game.height;
			} else {
				 
				// D
				newGameWidth = viewport.width * game.width / game.safeWidth;
				newGameHeight = newGameWidth * game.height / game.width;
			}
		}
		
		game.element.style.width = newGameWidth + "px";
		game.element.style.height = newGameHeight + "px";
		  
		newGameX = (viewport.width - newGameWidth) / 2;
		newGameY = (viewport.height - newGameHeight) / 2;
				
		// Set the new padding of the game so it will be centered
		game.element.style.margin = newGameY + "px " + newGameX + "px";
	};
window.addEventListener("resize", resizeGame);
resizeGame();
}())

</script>
</body>
</html>